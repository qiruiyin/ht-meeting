/**
 * vue-pagenav
 * @version v1.3.1 - 2016-07-09
 * @link http://html5beta.com/apps/vue-pagenav.html
 * @author ZHAO Xudong (zxdong@gmail.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=exports["default"]=t():e.zPagenav=t()}(this,function(){var e={"default":{page:1,pageSize:10,total:0,prevHtml:"«",nextHtml:"»",prevSrHtml:"Previous",nextSrHtml:"Next",dotsHtml:"...",eventName:"page-change",template:'<nav class="zpagenav" ><span class="pagination page-link m-r-1">total:{{total}}</span><ul class="pagination"><li track-by="$index" v-for="unit in units" class="page-item {{unit.class}}" :disabled="unit.disabled"><a @click.prevent="setPage(unit.page)" class="page-link" :href="setUrl(unit)" aria-label="{{unit.ariaLabel}}"><span v-if="unit.isPager" aria-hidden="true">{{{unit.html}}}</span><span v-else>{{{unit.html}}}</span><span v-if="unit.isPager" class="sr-only">{{{unit.srHtml}}}</span></a></li></ul></nav>'}};return e.install=function(t){t.component("zpagenav",{template:e["default"].template,props:{page:Number,total:Number,pageSize:Number,maxLink:Number,eventName:String,pageHandler:Function,createUrl:Function},methods:{setPage:function(t){return t===this.page?!1:void(this.pageHandler?this.pageHandler(t):this.$dispatch&&this.$dispatch(this.eventName||e["default"].eventName,t))},setUrl:function(e){return url=this.createUrl?this.createUrl(e):e.page>1?"#page="+e.page:""}},computed:{units:function(){function t(e){"number"==typeof e?d.push({page:e,isPrev:!1,isPager:!1,disabled:!1,"class":e===n?"active":"",isNext:!1,html:e}):d.push(h)}function a(){var e=Math.floor((g-2)/2),t=g-3-e,a=n-e,i=n+t;2>a?a=2:i>u&&(a=u-(g-2));var s=[1];a>2&&s.push("dot");for(var l,r=0,p=1>g-2?g-1:g-2;p>r;r++)l=r+a,s.push(l);return u-1>l&&s.push("dot"),u>l&&s.push(u),s}var i=e["default"],s=this,n=s.page||i.page,l=s.pageSize||i.pageSize,r=s.total||i.total,p=s.maxLink>5?s.maxLink:5,u=Math.ceil(r/l);n>u&&(n=u+0);var o=n>1,m=u>n,g=p>u?u:p,d=[],c=a();d.push({"class":o?"":"disabled",page:o?n-1:n,isPager:!0,isPrev:!0,isNext:!1,html:i.prevHtml,srHtml:i.prevSrHtml,ariaLabel:i.prevSrHtml});for(var h={"class":"disabled",page:n,isPager:!1,isPrev:!1,isNext:!0,html:i.dotsHtml},v=0,f=c.length;f>v;v++)t(c[v]);return d.push({"class":m?"":"disabled",page:m?n+1:n,isPager:!0,isPrev:!1,isNext:!0,html:i.nextHtml,srHtml:i.nextSrHtml,ariaLabel:i.nextSrHtml}),d}}})},e});